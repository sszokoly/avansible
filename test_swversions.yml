---
-
  hosts: localhost
  connection: local
  gather_facts: False

  # vars
  vars:
    swversion_stdout: swversions.csv

  # tasks
  tasks:
    - include_tasks: tasks/swversion_create_csv.yml

-
  #### ALL ####
  hosts: all
  gather_facts: False
  ignore_unreachable: true
  ignore_errors: true

  # vars: variables that will apply to the play
  vars:
    timeout: 35
    default: ""
    swversion_stdout: swversions.csv
    latest_cm_appsp: "8.1.3.6.0.890.27674"
    latest_cm_ssp: "PLAT-rhel7.6-0270"
    latest_cm_ksp: "KERNEL-3.10.0-1160.80.1.el7"
    latest_sm_appsp: "8.1.3.6"
    latest_sm_ssp: "SSP009"

  tasks:
    - include_tasks: test_sm.yml
      when: "'SM' in group_names"
...
