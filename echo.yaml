# Every YAML file should start with three dashes
---
-
  # Hosts: where our play will run and options it will run with
  hosts: all
  gather_facts: no
  #connection: local
  # Vars: variables that will apply to the play, on all target systems
  
  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    - name: echo_request
      shell: ping -c 1 -w 2 {{ ansible_host }}
      delegate_to: localhost
      register: output
    
    - name: append to logs 
      lineinfile:
        line: "{{ output.stdout }}"
        insertafter: EOF
        dest: logs
      delegate_to: localhost
...